# WebPRND
Реализация генератора псевдо-случайных чисел как веб-приложения с 
помощью Flask.

### Обращение ко всем потенциальным разработчикам этого проекта
Обновляйте этот документ по мере необходимости, в нём расписана 
основная архитектура и суть проекта.

## Изначальная задумка
У меня было желание сделать более удобный генератор псевдо-случайнах 
чисел, чтобы людям было приятно им пользоваться. Таковым является 
этот проект.

Для настройки генераторов псевдо-случайных чисел по моей задумке
будет использоваться псевдо-визуальное программирование. Проще 
говоря, построение логики из блоков. 

Как и в "классическом" CoolPRND, будет три типа блока: **сид**, 
**генератор** и **вывод**. Так как генерация случайных чисел -
это дорогая для компьютера операция, было решено ввести систему
авторизации пользователей.

Придумав такую классную идею, я перешёл к описанию архитектуры 
проекта. Внизу текста я оставил ссылки, которые я или другой
член команды посчитал полезными при работе над данным проектом.

## Запуск

Для запуска данного проекта нужно выполнить следующие команды:

```shell
# Клонируем репозиторий
git clone https://github.com/zatrit/webprnd.git
cd webprnd
# Создаём виртуальную среду и активируем её
python -m venv .venv 
source .venv/bin/activate
# Устанавливаем нужные пакеты
pip install -r requirements.txt
pip install -r dev-requirements.txt
npm install
# Компилируем фронт-энд проекта
# --minify не обязателен, но способствует
# скорости загрузки страницы.
# Этот этап можно пропустить, и скачать веб-контент по ссылке, 
# которая выводится при запуске main.py без сборки
./build.py --minify
# Запускаем сервер
./main.py
```

## Архитектура

1. Всё логика сайта состоит из сервисов, работающих с помощью
[flask.Blueprint](https://flask.palletsprojects.com/en/latest/blueprints/).
На данный момент выделены следующие сервисы:
* [pages.py](pages.py) - отвечает за страницы.
* [api.py](api.py) - отвечает за API. Так как API небольшое, то это всего один blueprint.
2. Все модели для баз данных находятся в *data/*.
3. ```# type: ignore``` и прочие подобные комментарии нужны для
того, чтобы у меня не ругался [линтер](https://ru.wikipedia.org/wiki/Lint).
Благодаря ему я могу писать код без ошибок в VSCode.
4. Для запуска всех тестов используйте команду ```py test``` или
```python test```
5. Для компиляции бэкэнда существует скрипт [build.py](build.py)
6. Желательно использовать явную типизацию в коде на Python и
TypeScript в страницах, чтобы не допускать некоторых ошибок
7. Для отрисовки редактора блочной логики используется библиотека
vis.js.

## Ссылки

* Репозиторий на GitHub: https://github.com/zatrit/webprnd
* vis.js: https://visjs.org
